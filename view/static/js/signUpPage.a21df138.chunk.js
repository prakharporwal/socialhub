"use strict";(self.webpackChunkreact_view=self.webpackChunkreact_view||[]).push([[257],{8304:function(e,n){var t={api_server_url:"https://api.prakhar.works"};n.Z=t},7817:function(e,n,t){t.d(n,{Z:function(){return l}});t(9867);var r=t(7254),i=t(7194),a=t(681),o=t(7973),s=t(8216),c=t(2834),l=function(e){return(0,c.jsx)(r.k,{className:"signin-background",h:"100vh",align:"center",justify:"center",backgroundColor:"whitesmoke",children:(0,c.jsxs)(i.K,{spacing:4,mx:"auto",maxW:"lg",py:12,px:6,children:[(0,c.jsx)(i.K,{align:"center",children:(0,c.jsx)(a.X,{fontSize:"3xl",children:e.headingText})}),(0,c.jsx)(o.xu,{rounded:"lg",bg:(0,s.ff)("white","gray.700"),boxShadow:"lg",p:8,children:(0,c.jsx)(i.K,{spacing:4,children:e.children})})]})})}},3271:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(9439),i=t(7200),a=t(7194),o=t(9274),s=t(5721),c=t(1429),l=t(2265),u=t(9867),d=t(4670),p=t(8304),f=t(7817),h=t(4720),m=t(1821),g=t(2834);h.ZP.initialize("G-DWQ4JNSKQE"),h.ZP.pageview(window.location.pathname+window.location.search);var v=function(e){var n=(0,u.useState)(""),t=(0,r.Z)(n,2),h=t[0],v=t[1],x=(0,u.useState)(""),y=(0,r.Z)(x,2),b=y[0],j=y[1],_=(0,u.useState)(""),w=(0,r.Z)(_,2),Z=w[0],k=w[1],S=(0,u.useState)(""),N=(0,r.Z)(S,2),C=N[0],I=N[1],E=(0,u.useState)(!1),O=(0,r.Z)(E,2),z=O[0],T=O[1],A=(0,i.p)(),P=(0,d.s0)();return(0,g.jsxs)(f.Z,{headingText:"Signup into Organisation",children:[(0,g.jsxs)("form",{onSubmit:function(e){if(console.log(e.preventDefault()),T(!0),""===Z||""===h||""===b||""===C||!function(e){return""!==e}(b))return A.isActive("signup-error")||A({id:"signup-error",title:"Invalid data cannot be empty",description:"Field empty",status:"error",duration:3e3,isClosable:!0}),void T(!1);console.log(b,C,Z,h),fetch(p.Z.api_server_url+"/v1/signup",{method:"POST",body:JSON.stringify({organisation_group_id:Z,username:h,email:b,password:C})}).then((function(e){if(e.ok)return e.json();throw new Error("failed to login")})).then((function(e){console.log(e.access_token),A({title:"Account Creation successful",description:"",status:"success",duration:3e3,isClosable:!0}),void 0!==(null===e||void 0===e?void 0:e.access_token)&&""!==(null===e||void 0===e?void 0:e.access_token)?(window.localStorage.setItem("access_token",e.access_token),window.localStorage.setItem("current_username",e.username),window.localStorage.setItem("current_user_email",e.user_email),window.localStorage.setItem("authenticated","true"),document.cookie="access_token="+e.access_token):console.error("access token is empty or undefined"),P("/app/home")})).catch((function(e){console.log(e),A({title:"Signup Failed",description:e.message,status:"error",duration:3e3,isClosable:!0})})).finally((function(){T(!1)})),console.log(e.preventDefault())},children:[(0,g.jsxs)(a.K,{spacing:0,children:[(0,g.jsxs)(o.NI,{id:"orgname",children:[(0,g.jsx)(s.l,{children:"Organisation Id"}),(0,g.jsx)(c.I,{type:"text",value:Z,onChange:function(e){k(e.currentTarget.value)}})]}),(0,g.jsxs)(o.NI,{id:"email",children:[(0,g.jsx)(s.l,{children:"Email address"}),(0,g.jsx)(c.I,{type:"email",value:b,onChange:function(e){j(e.currentTarget.value)}})]}),(0,g.jsxs)(o.NI,{id:"username",children:[(0,g.jsx)(s.l,{children:"Username"}),(0,g.jsx)(c.I,{type:"text",value:h,onChange:function(e){v(e.currentTarget.value)}})]}),(0,g.jsxs)(o.NI,{id:"password",children:[(0,g.jsx)(s.l,{children:"Password"}),(0,g.jsx)(c.I,{type:"password",value:C,onChange:function(e){I(e.currentTarget.value)}})]})]}),(0,g.jsx)(l.z,{marginTop:"4",bg:"blue.400",color:"white",_hover:{bg:"blue.400"},type:"submit",isLoading:z,children:"Sign up"})]}),(0,g.jsx)(l.z,{leftIcon:(0,g.jsx)(m.FOe,{}),onClick:function(){var e=document.createElement("form");e.setAttribute("method","GET"),e.setAttribute("action","https://accounts.google.com/o/oauth2/v2/auth");var n={client_id:"400956389014-h8i654igfoqm53ud0694bhk649kigaur.apps.googleusercontent.com",redirect_uri:"http://localhost:8080/v1/google/oauth2/signup/callback",response_type:"token",scope:"openid email profile",include_granted_scopes:"true",state:"pass-through value",prompt:"select_account"};for(var t in n){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",t),r.setAttribute("value",n[t]),e.appendChild(r)}document.body.appendChild(e),e.submit()},children:"Continue With Google"})]})}},8946:function(e,n,t){t.d(n,{w_:function(){return l}});var r=t(9867),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(i),o=function(){return o=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},o.apply(this,arguments)},s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&(t[r[i]]=e[r[i]])}return t};function c(e){return e&&e.map((function(e,n){return r.createElement(e.tag,o({key:n},e.attr),c(e.child))}))}function l(e){return function(n){return r.createElement(u,o({attr:o({},e.attr)},n),c(e.child))}}function u(e){var n=function(n){var t,i=e.size||n.size||"1em";n.className&&(t=n.className),e.className&&(t=(t?t+" ":"")+e.className);var a=e.attr,c=e.title,l=s(e,["attr","title"]);return r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,l,{className:t,style:o({color:e.color||n.color},n.style,e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==a?r.createElement(a.Consumer,null,(function(e){return n(e)})):n(i)}},2265:function(e,n,t){t.d(n,{z:function(){return Z}});var r=t(5987),i=t(1413),a=t(9439),o=t(9867);var s=(0,t(631).k)({strict:!1,name:"ButtonGroupContext"}),c=(0,a.Z)(s,2),l=(c[0],c[1]),u=t(3689),d=t(9523),p=t(2834),f=["children","className"];function h(e){var n=e.children,t=e.className,a=(0,r.Z)(e,f),s=(0,o.isValidElement)(n)?(0,o.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,c=(0,d.cx)("chakra-button__icon",t);return(0,p.jsx)(u.m.span,(0,i.Z)((0,i.Z)({display:"inline-flex",alignSelf:"center",flexShrink:0},a),{},{className:c,children:s}))}h.displayName="ButtonIcon";var m=t(4942),g=t(7877),v=["label","placement","spacing","children","className","__css"];function x(e){var n=e.label,t=e.placement,a=e.spacing,s=void 0===a?"0.5rem":a,c=e.children,l=void 0===c?(0,p.jsx)(g.$,{color:"currentColor",width:"1em",height:"1em"}):c,f=e.className,h=e.__css,x=(0,r.Z)(e,v),y=(0,d.cx)("chakra-button__spinner",f),b="start"===t?"marginEnd":"marginStart",j=(0,o.useMemo)((function(){var e;return(0,i.Z)((e={display:"flex",alignItems:"center",position:n?"relative":"absolute"},(0,m.Z)(e,b,n?s:0),(0,m.Z)(e,"fontSize","1em"),(0,m.Z)(e,"lineHeight","normal"),e),h)}),[h,n,b,s]);return(0,p.jsx)(u.m.div,(0,i.Z)((0,i.Z)({className:y},x),{},{__css:j,children:l}))}x.displayName="ButtonSpinner";var y=t(154),b=t(9770),j=t(6833),_=t(9511),w=["isDisabled","isLoading","isActive","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],Z=(0,b.G)((function(e,n){var t=l(),s=(0,j.mq)("Button",(0,i.Z)((0,i.Z)({},t),e)),c=(0,_.Lr)(e),f=c.isDisabled,h=void 0===f?null==t?void 0:t.isDisabled:f,m=c.isLoading,g=c.isActive,v=c.children,b=c.leftIcon,Z=c.rightIcon,S=c.loadingText,N=c.iconSpacing,C=void 0===N?"0.5rem":N,I=c.type,E=c.spinner,O=c.spinnerPlacement,z=void 0===O?"start":O,T=c.className,A=c.as,P=(0,r.Z)(c,w),B=(0,o.useMemo)((function(){var e=(0,i.Z)((0,i.Z)({},null==s?void 0:s._focus),{},{zIndex:1});return(0,i.Z)((0,i.Z)({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none"},s),!!t&&{_focus:e})}),[s,t]),q=function(e){var n=(0,o.useState)(!e),t=(0,a.Z)(n,2),r=t[0],i=t[1];return{ref:(0,o.useCallback)((function(e){e&&i("BUTTON"===e.tagName)}),[]),type:r?"button":void 0}}(A),G=q.ref,D=q.type,K={rightIcon:Z,leftIcon:b,iconSpacing:C,children:v};return(0,p.jsxs)(u.m.button,(0,i.Z)((0,i.Z)({ref:(0,y.qq)(n,G),as:A,type:null!=I?I:D,"data-active":(0,d.PB)(g),"data-loading":(0,d.PB)(m),__css:B,className:(0,d.cx)("chakra-button",T)},P),{},{disabled:h||m,children:[m&&"start"===z&&(0,p.jsx)(x,{className:"chakra-button__spinner--start",label:S,placement:"start",spacing:C,children:E}),m?S||(0,p.jsx)(u.m.span,{opacity:0,children:(0,p.jsx)(k,(0,i.Z)({},K))}):(0,p.jsx)(k,(0,i.Z)({},K)),m&&"end"===z&&(0,p.jsx)(x,{className:"chakra-button__spinner--end",label:S,placement:"end",spacing:C,children:E})]}))}));function k(e){var n=e.leftIcon,t=e.rightIcon,r=e.children,i=e.iconSpacing;return(0,p.jsxs)(p.Fragment,{children:[n&&(0,p.jsx)(h,{marginEnd:i,children:n}),r,t&&(0,p.jsx)(h,{marginStart:i,children:t})]})}Z.displayName="Button"},7973:function(e,n,t){t.d(n,{xu:function(){return u}});var r=t(1413),i=t(5987),a=t(3689),o=t(9770),s=t(2834),c=["size","centerContent"],l=["size"],u=(0,a.m)("div");u.displayName="Box";var d=(0,o.G)((function(e,n){var t=e.size,a=e.centerContent,o=void 0===a||a,l=(0,i.Z)(e,c),d=o?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,s.jsx)(u,(0,r.Z)({ref:n,boxSize:t,__css:(0,r.Z)((0,r.Z)({},d),{},{flexShrink:0,flexGrow:0})},l))}));d.displayName="Square",(0,o.G)((function(e,n){var t=e.size,a=(0,i.Z)(e,l);return(0,s.jsx)(d,(0,r.Z)({size:t,ref:n,borderRadius:"9999px"},a))})).displayName="Circle"},154:function(e,n,t){t.d(n,{lq:function(){return i},qq:function(){return a}});var r=t(9867);function i(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){n.forEach((function(n){!function(e,n){if(null!=e)if("function"!==typeof e)try{e.current=n}catch(t){throw new Error("Cannot assign value '".concat(n,"' to ref '").concat(e,"'"))}else e(n)}(n,e)}))}}function a(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.useMemo)((function(){return i.apply(void 0,n)}),n)}}}]);
//# sourceMappingURL=signUpPage.a21df138.chunk.js.map