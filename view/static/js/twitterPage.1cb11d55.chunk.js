"use strict";(self.webpackChunkreact_view=self.webpackChunkreact_view||[]).push([[934],{8304:function(e,n){var o={api_server_url:"https://api.prakhar.works"};n.Z=o},83:function(e,n,o){o.d(n,{Z:function(){return R}});var t=o(1413),r=(o(9867),o(4670)),i=o(5680),c=o(5987),s=o(1130),a=o(7973),l=o(4343),u=o(198),d=o(3772),f=o(8216),h=o(7254),m=o(1221),x=o(8875),g=o(7733),p=o(213),j=o(4997),v=o(280),w=o(79),b=o(881),k=o(5501),Z=o(7541),C=o(8381),y=o(8964),_=o(323),S=o(1042),T=o(5644),I=o(7934),N=o(2265),O=o(1529),W=o(2834);function M(e){var n=(0,f.If)(),o=n.colorMode,r=n.toggleColorMode;return(0,W.jsx)(h.k,{h:"100vh",justifyContent:"center",alignItems:"center",children:(0,W.jsx)(N.z,(0,t.Z)((0,t.Z)({"aria-label":"Toggle Color Mode",onClick:r,_focus:{boxShadow:"none"},w:"fit-content"},e),{},{children:"light"===o?(0,W.jsx)(O.s1t,{}):(0,W.jsx)(O.eSY,{})}))})}var z=o(3967),D=o(1821),L=["onClose"],H=["icon","linkTo","children"],Y=["onOpen","user"],q=[{name:"Home",icon:I.m6D,linkTo:"/home"},{name:"Create Post",icon:z.EIY,linkTo:"/post/new"},{name:"Linkedin",icon:D.n7M,linkTo:"/linkedin"},{name:"Twitter",icon:D.mWf,linkTo:"/twitter"}];function G(e){var n,o=e.children,t=(0,s.q)(),r=t.isOpen,i=t.onOpen,c=t.onClose;return(0,W.jsxs)(a.xu,{minH:"100vh",children:[(0,W.jsx)(P,{onClose:function(){return c},display:{base:"none",md:"block"}}),(0,W.jsxs)(l.d,{autoFocus:!1,isOpen:r,placement:"left",onClose:c,returnFocusOnClose:!1,onOverlayClick:c,size:"xs",children:[(0,W.jsx)(u.Z,{}),(0,W.jsx)(d.s,{width:"100px",children:(0,W.jsx)(P,{onClose:c})})]}),(0,W.jsx)(E,{onOpen:i,user:{username:null===(n=window.localStorage.getItem("current_username"))||void 0===n?void 0:n.toUpperCase(),userType:window.localStorage.getItem("organisation_group_id"),imagSrc:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=200&h=200&q=80",imgSrc:"https://images.unsplash.com/photo-1619946794135-5bc917a27793?ixlib=rb-0.3.5&q=80&fm=jpg&crop=faces&fit=crop&h=200&w=200&s=b616b2c5b373a80ffc9636ba24f7a4a9"}}),(0,W.jsx)(a.xu,{ml:{base:0,md:60},children:o})]})}var P=function(e){var n=e.onClose,o=(0,c.Z)(e,L);return(0,W.jsxs)(a.xu,(0,t.Z)((0,t.Z)({bg:(0,f.ff)("white","gray.900"),borderRight:"1px",borderRightColor:(0,f.ff)("gray.200","gray.700"),w:{base:"full",md:60},pos:"fixed",h:"full"},o),{},{children:[(0,W.jsxs)(h.k,{h:"20",alignItems:"center",mx:8,justifyContent:"space-between",children:[(0,W.jsx)(m.r,{as:T.rU,to:"/",children:(0,W.jsx)(x.E,{src:"/logo.png",alt:"Logo",w:36})}),(0,W.jsx)(g.P,{display:{base:"flex",md:"none"},onClick:n})]}),q.map((function(e){return(0,W.jsx)(A,{icon:e.icon,linkTo:e.linkTo,children:e.name},e.name)}))]}))},A=function(e){var n=e.icon,o=e.linkTo,r=e.children,i=(0,c.Z)(e,H);return(0,W.jsx)(m.r,{_activeLink:{color:"cyan.500",fontWeight:700},as:T.OL,to:o,style:{textDecoration:"none"},_focus:{boxShadow:"none"},children:(0,W.jsxs)(h.k,(0,t.Z)((0,t.Z)({align:"center",borderRadius:"lg",p:"4",mx:"4",role:"group",cursor:"pointer",_hover:{bg:"cyan.400",color:"white"}},i),{},{children:[n&&(0,W.jsx)(p.J,{mr:"4",fontSize:"16",_groupHover:{color:"white"},as:n}),r]}))})},E=function(e){var n=e.onOpen,o=e.user,i=(0,c.Z)(e,Y),s=(0,r.s0)();return(0,W.jsxs)(h.k,(0,t.Z)((0,t.Z)({ml:{base:0,md:60},px:{base:4,md:4},height:"16",alignItems:"center",bg:(0,f.ff)("white","gray.900"),borderBottomWidth:"1px",borderBottomColor:(0,f.ff)("gray.200","gray.700"),justifyContent:{base:"space-between",md:"flex-end"}},i),{},{children:[(0,W.jsx)(j.h,{display:{base:"flex",md:"none"},onClick:n,variant:"outline","aria-label":"open menu",icon:(0,W.jsx)(I.cur,{})}),(0,W.jsx)(x.E,{display:{base:"flex",md:"none"},src:"/logo.png",alt:"Logo",w:32}),(0,W.jsxs)(v.U,{spacing:{base:"0",md:"6"},children:[(0,W.jsx)(j.h,{size:"lg",variant:"ghost","aria-label":"notifications",icon:(0,W.jsx)(I.vWP,{})}),(0,W.jsx)(M,{}),(0,W.jsx)(h.k,{alignItems:"center",children:(0,W.jsxs)(w.v,{children:[(0,W.jsx)(b.j,{py:2,transition:"all 0.3s",_focus:{boxShadow:"none"},children:(0,W.jsxs)(v.U,{children:[(0,W.jsx)(k.q,{size:"md",src:o.imgSrc}),(0,W.jsxs)(Z.g,{display:{base:"none",md:"flex"},alignItems:"flex-start",spacing:"1px",ml:"2",children:[(0,W.jsx)(C.x,{fontSize:"sm",children:o.username}),(0,W.jsx)(C.x,{fontSize:"xs",color:"gray.600",children:o.userType})]}),(0,W.jsx)(a.xu,{display:{base:"none",md:"flex"},children:(0,W.jsx)(I.bTu,{})})]})}),(0,W.jsxs)(y.q,{bg:(0,f.ff)("white","gray.900"),borderColor:(0,f.ff)("gray.200","gray.700"),children:[(0,W.jsx)(_.s,{children:"Profile"}),(0,W.jsx)(S.R,{}),(0,W.jsx)(_.s,{onClick:function(){window.localStorage.removeItem("authenticated"),window.localStorage.removeItem("access_token"),window.localStorage.removeItem("username"),window.localStorage.removeItem("organisation_group_id"),document.cookie="access_token=; Path=/;",s("/signin")},children:"Sign out"})]})]})})]})]}))},R=function(e){return function(n){var o=(0,i.a)();return(0,W.jsx)(G,{children:(0,W.jsx)(a.xu,{h:"calc(100vh - 4rem)",overflowY:"auto",children:o.isAuthenticated?(0,W.jsx)(e,(0,t.Z)({},n)):(0,W.jsx)(r.Fg,{to:"/signin",replace:!0})})})}}},5680:function(e,n,o){o.d(n,{a:function(){return i}});var t=o(9439),r=o(9867);function i(){var e=(0,r.useMemo)((function(){return function(e){var n=e.length+1;return document.cookie.split(";").map((function(e){return e.trim()})).filter((function(o){return o.substring(0,n)==="".concat(e,"=")})).map((function(e){return decodeURIComponent(e.substring(n))}))[0]||null}("access_token")}),[]),n=(0,r.useState)(null!=e&&void 0!==e&&""!==e),o=(0,t.Z)(n,2),i=o[0];o[1];return{isAuthenticated:i,accessToken:e}}},8904:function(e,n,o){o.r(n);var t=o(9439),r=o(7200),i=o(7973),c=o(7254),s=o(2265),a=o(9310),l=o(9537),u=o(3278),d=o(4550),f=o(9867),h=o(5680),m=o(83),x=o(8304),g=o(1821),p=o(2834),j=function(e){var n=e.tweet;return(0,p.jsxs)(l.Z,{p:"4",children:[(0,p.jsx)(u.O,{children:"Tweet by You"}),(0,p.jsx)(d.e,{children:n.text})]})};n.default=(0,m.Z)((function(e){var n=(0,r.p)(),o=(0,h.a)(),l=(0,f.useState)(!1),u=(0,t.Z)(l,2),d=u[0],m=u[1],v=(0,f.useState)(!1),w=(0,t.Z)(v,2),b=w[0],k=w[1],Z=(0,f.useState)(""),C=(0,t.Z)(Z,2),y=C[0],_=C[1],S=(0,f.useState)([{id:"hello",text:"Hi All"}]),T=(0,t.Z)(S,2),I=T[0];T[1];return(0,f.useEffect)((function(){fetch(x.Z.api_server_url+"/app/twitter/account/info",{method:"get",headers:{"access-token":o.accessToken||""}}).then((function(e){if(e.ok)return e.json()})).then((function(e){var n,o,t,r;void 0!==(null===(n=e.account)||void 0===n?void 0:n.username)&&""!==(null===(o=e.account)||void 0===o?void 0:o.username)&&(k(!0),_(null===(t=e.account)||void 0===t?void 0:t.username),console.log(null===(r=e.account)||void 0===r?void 0:r.username))})).catch((function(e){console.log(e)}))}),[]),(0,p.jsxs)(i.xu,{h:"80vh",children:[(0,p.jsx)(c.k,{direction:"column",align:"center",justify:"center",h:"100%",gap:"8",children:(0,p.jsx)(s.z,{isLoading:d,colorScheme:b?"green":"twitter",leftIcon:(0,p.jsx)(g.mWf,{}),onClick:function(e){m(!0),fetch(x.Z.api_server_url+"/app/twitter/oauth2/access/initiate",{headers:{"access-token":o.accessToken||""}}).then((function(e){if(e.ok)return e.json();throw new Error("error initiating connecting to twitter")})).then((function(e){console.log(e),window.location=e.redirect_url})).catch((function(e){console.log(e),n({id:"post-submit-error",status:"error",title:"Could not connect to Twitter",description:""})})).finally((function(){m(!1)}))},children:b?"Connected to ".concat(y):"Connect Twitter"})}),(0,p.jsx)(a.W,{children:I.map((function(e){return(0,p.jsx)(j,{tweet:e})}))})]})}))},5514:function(e,n,o){o.d(n,{Y:function(){return c},v:function(){return s}});var t=o(9439),r=(0,o(4068).eC)("Card"),i=(0,t.Z)(r,2),c=i[0],s=i[1]},4550:function(e,n,o){o.d(n,{e:function(){return d}});var t=o(1413),r=o(5987),i=o(5514),c=o(9523),s=o(9770),a=o(3689),l=o(2834),u=["className"],d=(0,s.G)((function(e,n){var o=e.className,s=(0,r.Z)(e,u),d=(0,i.v)();return(0,l.jsx)(a.m.div,(0,t.Z)({ref:n,className:(0,c.cx)("chakra-card__body",o),__css:d.body},s))}))},9537:function(e,n,o){o.d(n,{Z:function(){return h}});var t=o(1413),r=o(5987),i=o(5514),c=o(9523),s=o(9770),a=o(9511),l=o(6833),u=o(3689),d=o(2834),f=["className","children","direction","justify","align"],h=(0,s.G)((function(e,n){var o=(0,a.Lr)(e),s=o.className,h=o.children,m=o.direction,x=void 0===m?"column":m,g=o.justify,p=o.align,j=(0,r.Z)(o,f),v=(0,l.jC)("Card",e);return(0,d.jsx)(u.m.div,(0,t.Z)((0,t.Z)({ref:n,className:(0,c.cx)("chakra-card",s),__css:(0,t.Z)({display:"flex",flexDirection:x,justifyContent:g,alignItems:p,position:"relative",minWidth:0,wordWrap:"break-word"},v.container)},j),{},{children:(0,d.jsx)(i.Y,{value:v,children:h})}))}))},3278:function(e,n,o){o.d(n,{O:function(){return d}});var t=o(1413),r=o(5987),i=o(5514),c=o(9523),s=o(9770),a=o(3689),l=o(2834),u=["className"],d=(0,s.G)((function(e,n){var o=e.className,s=(0,r.Z)(e,u),d=(0,i.v)();return(0,l.jsx)(a.m.div,(0,t.Z)({ref:n,className:(0,c.cx)("chakra-card__header",o),__css:d.header},s))}))},9310:function(e,n,o){o.d(n,{W:function(){return f}});var t=o(1413),r=o(5987),i=o(9770),c=o(9511),s=o(6833),a=o(3689),l=o(9523),u=o(2834),d=["className","centerContent"],f=(0,i.G)((function(e,n){var o=(0,c.Lr)(e),i=o.className,f=o.centerContent,h=(0,r.Z)(o,d),m=(0,s.mq)("Container",e);return(0,u.jsx)(a.m.div,(0,t.Z)((0,t.Z)({ref:n,className:(0,l.cx)("chakra-container",i)},h),{},{__css:(0,t.Z)((0,t.Z)({},m),f&&{display:"flex",flexDirection:"column",alignItems:"center"})}))}));f.displayName="Container"},7200:function(e,n,o){o.d(n,{p:function(){return a}});var t=o(1413),r=o(7155),i=o(7048),c=o(5),s=o(9867);function a(e){var n=(0,c.uP)().theme,o=(0,r.OX)();return(0,s.useMemo)((function(){return(0,i.Cj)(n.direction,(0,t.Z)((0,t.Z)({},o),e))}),[e,n.direction,o])}}}]);
//# sourceMappingURL=twitterPage.1cb11d55.chunk.js.map