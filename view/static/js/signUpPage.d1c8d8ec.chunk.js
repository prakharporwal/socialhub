"use strict";(self.webpackChunkreact_view=self.webpackChunkreact_view||[]).push([[257],{8304:function(e,n){var t={api_server_url:"https://api.prakhar.works"};n.Z=t},7817:function(e,n,t){t.d(n,{Z:function(){return u}});t(9867);var r=t(7254),i=t(7194),o=t(681),a=t(7973),l=t(8216),s=t(2834),u=function(e){return(0,s.jsx)(r.k,{className:"signin-background",h:"100vh",align:"center",justify:"center",backgroundColor:"whitesmoke",children:(0,s.jsxs)(i.K,{spacing:4,mx:"auto",maxW:"lg",py:12,px:6,children:[(0,s.jsx)(i.K,{align:"center",children:(0,s.jsx)(o.X,{fontSize:"4xl",children:e.headingText})}),(0,s.jsx)(a.xu,{rounded:"lg",bg:(0,l.ff)("white","gray.700"),boxShadow:"lg",p:8,children:(0,s.jsx)(i.K,{spacing:4,children:e.children})})]})})}},3271:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(9439),i=t(7200),o=t(7194),a=t(9274),l=t(5721),s=t(1429),u=t(2265),c=t(9867),d=t(4670),v=t(8304),h=t(7817),p=t(4720),m=t(1821),f=t(2834);p.ZP.initialize("G-DWQ4JNSKQE"),p.ZP.pageview(window.location.pathname+window.location.search);var g=function(e){var n=(0,c.useState)(""),t=(0,r.Z)(n,2),p=t[0],g=t[1],b=(0,c.useState)(""),x=(0,r.Z)(b,2),y=x[0],Z=x[1],k=(0,c.useState)(""),I=(0,r.Z)(k,2),_=I[0],j=I[1],w=(0,c.useState)(""),N=(0,r.Z)(w,2),C=N[0],O=N[1],S=(0,c.useState)(!1),q=(0,r.Z)(S,2),R=q[0],P=q[1],F=(0,i.p)(),T=(0,d.s0)();return(0,f.jsxs)(h.Z,{headingText:"Signup into Organisation",children:[(0,f.jsxs)("form",{onSubmit:function(e){if(console.log(e.preventDefault()),P(!0),""===_||""===p||""===y||""===C||!function(e){return""!==e}(y))return F.isActive("signup-error")||F({id:"signup-error",title:"Invalid data cannot be empty",description:"Field empty",status:"error",duration:3e3,isClosable:!0}),void P(!1);console.log(y,C,_,p),fetch(v.Z.api_server_url+"/v1/signup",{method:"POST",body:JSON.stringify({organisation_group_id:_,username:p,email:y,password:C})}).then((function(e){if(e.ok)return e.json();throw new Error("failed to login")})).then((function(e){console.log(e.access_token),F({title:"Account Creation successful",description:"",status:"success",duration:3e3,isClosable:!0}),void 0!==(null===e||void 0===e?void 0:e.access_token)&&""!==(null===e||void 0===e?void 0:e.access_token)?(window.localStorage.setItem("access_token",e.access_token),window.localStorage.setItem("current_username",e.username),window.localStorage.setItem("current_user_email",e.user_email),window.localStorage.setItem("authenticated","true"),document.cookie="access_token="+e.access_token):console.error("access token is empty or undefined"),T("/home")})).catch((function(e){console.log(e),F({title:"Signup Failed",description:e.message,status:"error",duration:3e3,isClosable:!0})})).finally((function(){P(!1)})),console.log(e.preventDefault())},children:[(0,f.jsxs)(o.K,{spacing:4,children:[(0,f.jsxs)(a.NI,{id:"orgname",children:[(0,f.jsx)(l.l,{children:"Organisation Id"}),(0,f.jsx)(s.I,{type:"text",value:_,onChange:function(e){j(e.currentTarget.value)}})]}),(0,f.jsxs)(a.NI,{id:"email",children:[(0,f.jsx)(l.l,{children:"Email address"}),(0,f.jsx)(s.I,{type:"email",value:y,onChange:function(e){Z(e.currentTarget.value)}})]}),(0,f.jsxs)(a.NI,{id:"username",children:[(0,f.jsx)(l.l,{children:"Username"}),(0,f.jsx)(s.I,{type:"text",value:p,onChange:function(e){g(e.currentTarget.value)}})]}),(0,f.jsxs)(a.NI,{id:"password",children:[(0,f.jsx)(l.l,{children:"Password"}),(0,f.jsx)(s.I,{type:"password",value:C,onChange:function(e){O(e.currentTarget.value)}})]})]}),(0,f.jsx)(u.z,{marginTop:"4",bg:"blue.400",color:"white",_hover:{bg:"blue.400"},type:"submit",isLoading:R,children:"Sign up"})]}),(0,f.jsx)(u.z,{leftIcon:(0,f.jsx)(m.FOe,{}),onClick:function(){var e=document.createElement("form");e.setAttribute("method","GET"),e.setAttribute("action","https://accounts.google.com/o/oauth2/v2/auth");var n={client_id:"400956389014-h8i654igfoqm53ud0694bhk649kigaur.apps.googleusercontent.com",redirect_uri:"http://localhost:3000/v1/google/oauth2/signup/callback",response_type:"token",scope:"openid email profile",include_granted_scopes:"true",state:"pass-through value",prompt:"select_account"};for(var t in n){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",t),r.setAttribute("value",n[t]),e.appendChild(r)}document.body.appendChild(e),e.submit()},children:"Continue With Google"})]})}},8946:function(e,n,t){t.d(n,{w_:function(){return u}});var r=t(9867),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(i),a=function(){return a=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},a.apply(this,arguments)},l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&(t[r[i]]=e[r[i]])}return t};function s(e){return e&&e.map((function(e,n){return r.createElement(e.tag,a({key:n},e.attr),s(e.child))}))}function u(e){return function(n){return r.createElement(c,a({attr:a({},e.attr)},n),s(e.child))}}function c(e){var n=function(n){var t,i=e.size||n.size||"1em";n.className&&(t=n.className),e.className&&(t=(t?t+" ":"")+e.className);var o=e.attr,s=e.title,u=l(e,["attr","title"]);return r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,u,{className:t,style:a({color:e.color||n.color},n.style,e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==o?r.createElement(o.Consumer,null,(function(e){return n(e)})):n(i)}},9274:function(e,n,t){t.d(n,{NI:function(){return j},NJ:function(){return _},Q6:function(){return w},e:function(){return y}});var r=t(1413),i=t(5987),o=t(9439),a=t(631),l=t(154),s=t(9770),u=t(6833),c=t(9511),d=t(3689),v=t(9523),h=t(9867),p=t(2834),m=["id","isRequired","isInvalid","isDisabled","isReadOnly"],f=["getRootProps","htmlProps"],g=(0,a.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),b=(0,o.Z)(g,2),x=b[0],y=b[1],Z=(0,a.k)({strict:!1,name:"FormControlContext"}),k=(0,o.Z)(Z,2),I=k[0],_=k[1];var j=(0,s.G)((function(e,n){var t=(0,u.jC)("Form",e),a=function(e){var n=e.id,t=e.isRequired,a=e.isInvalid,s=e.isDisabled,u=e.isReadOnly,c=(0,i.Z)(e,m),d=(0,h.useId)(),p=n||"field-".concat(d),f="".concat(p,"-label"),g="".concat(p,"-feedback"),b="".concat(p,"-helptext"),x=(0,h.useState)(!1),y=(0,o.Z)(x,2),Z=y[0],k=y[1],I=(0,h.useState)(!1),_=(0,o.Z)(I,2),j=_[0],w=_[1],N=(0,h.useState)(!1),C=(0,o.Z)(N,2),O=C[0],S=C[1],q=(0,h.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)({id:b},e),{},{ref:(0,l.lq)(n,(function(e){e&&w(!0)}))})}),[b]),R=(0,h.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)({},e),{},{ref:n,"data-focus":(0,v.PB)(O),"data-disabled":(0,v.PB)(s),"data-invalid":(0,v.PB)(a),"data-readonly":(0,v.PB)(u),id:void 0!==e.id?e.id:f,htmlFor:void 0!==e.htmlFor?e.htmlFor:p})}),[p,s,O,a,u,f]),P=(0,h.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)({id:g},e),{},{ref:(0,l.lq)(n,(function(e){e&&k(!0)})),"aria-live":"polite"})}),[g]),F=(0,h.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)((0,r.Z)({},e),c),{},{ref:n,role:"group"})}),[c]),T=(0,h.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)({},e),{},{ref:n,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!t,isInvalid:!!a,isReadOnly:!!u,isDisabled:!!s,isFocused:!!O,onFocus:function(){return S(!0)},onBlur:function(){return S(!1)},hasFeedbackText:Z,setHasFeedbackText:k,hasHelpText:j,setHasHelpText:w,id:p,labelId:f,feedbackId:g,helpTextId:b,htmlProps:c,getHelpTextProps:q,getErrorMessageProps:P,getRootProps:F,getLabelProps:R,getRequiredIndicatorProps:T}}((0,c.Lr)(e)),s=a.getRootProps,g=(a.htmlProps,(0,i.Z)(a,f)),b=(0,v.cx)("chakra-form-control",e.className);return(0,p.jsx)(I,{value:g,children:(0,p.jsx)(x,{value:t,children:(0,p.jsx)(d.m.div,(0,r.Z)((0,r.Z)({},s({},n)),{},{className:b,__css:t.container}))})})}));j.displayName="FormControl";var w=(0,s.G)((function(e,n){var t=_(),i=y(),o=(0,v.cx)("chakra-form__helper-text",e.className);return(0,p.jsx)(d.m.div,(0,r.Z)((0,r.Z)({},null==t?void 0:t.getHelpTextProps(e,n)),{},{__css:i.helperText,className:o}))}));w.displayName="FormHelperText"},5912:function(e,n,t){t.d(n,{K:function(){return c},Y:function(){return u}});var r=t(1413),i=t(5987),o=t(9274),a=t(9523),l=["isDisabled","isInvalid","isReadOnly","isRequired"],s=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function u(e){var n=c(e),t=n.isDisabled,o=n.isInvalid,s=n.isReadOnly,u=n.isRequired,d=(0,i.Z)(n,l);return(0,r.Z)((0,r.Z)({},d),{},{disabled:t,readOnly:s,required:u,"aria-invalid":(0,a.Qm)(o),"aria-required":(0,a.Qm)(u),"aria-readonly":(0,a.Qm)(s)})}function c(e){var n,t,l,u=(0,o.NJ)(),c=e.id,d=e.disabled,v=e.readOnly,h=e.required,p=e.isRequired,m=e.isInvalid,f=e.isReadOnly,g=e.isDisabled,b=e.onFocus,x=e.onBlur,y=(0,i.Z)(e,s),Z=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==u?void 0:u.hasFeedbackText)&&(null==u?void 0:u.isInvalid)&&Z.push(u.feedbackId),(null==u?void 0:u.hasHelpText)&&Z.push(u.helpTextId),(0,r.Z)((0,r.Z)({},y),{},{"aria-describedby":Z.join(" ")||void 0,id:null!=c?c:null==u?void 0:u.id,isDisabled:null!=(n=null!=d?d:g)?n:null==u?void 0:u.isDisabled,isReadOnly:null!=(t=null!=v?v:f)?t:null==u?void 0:u.isReadOnly,isRequired:null!=(l=null!=h?h:p)?l:null==u?void 0:u.isRequired,isInvalid:null!=m?m:null==u?void 0:u.isInvalid,onFocus:(0,a.v0)(null==u?void 0:u.onFocus,b),onBlur:(0,a.v0)(null==u?void 0:u.onBlur,x)})}},5721:function(e,n,t){t.d(n,{l:function(){return h}});var r=t(1413),i=t(5987),o=t(9274),a=t(9770),l=t(6833),s=t(9511),u=t(3689),c=t(9523),d=t(2834),v=["className","children","requiredIndicator","optionalIndicator"],h=(0,a.G)((function(e,n){var t,a=(0,l.mq)("FormLabel",e),h=(0,s.Lr)(e),m=(h.className,h.children),f=h.requiredIndicator,g=void 0===f?(0,d.jsx)(p,{}):f,b=h.optionalIndicator,x=void 0===b?null:b,y=(0,i.Z)(h,v),Z=(0,o.NJ)(),k=null!=(t=null==Z?void 0:Z.getLabelProps(y,n))?t:(0,r.Z)({ref:n},y);return(0,d.jsxs)(u.m.label,(0,r.Z)((0,r.Z)({},k),{},{className:(0,c.cx)("chakra-form__label",h.className),__css:(0,r.Z)({display:"block",textAlign:"start"},a),children:[m,(null==Z?void 0:Z.isRequired)?g:x]}))}));h.displayName="FormLabel";var p=(0,a.G)((function(e,n){var t=(0,o.NJ)(),i=(0,o.e)();if(!(null==t?void 0:t.isRequired))return null;var a=(0,c.cx)("chakra-form__required-indicator",e.className);return(0,d.jsx)(u.m.span,(0,r.Z)((0,r.Z)({},null==t?void 0:t.getRequiredIndicatorProps(e,n)),{},{__css:i.requiredIndicator,className:a}))}));p.displayName="RequiredIndicator"},1429:function(e,n,t){t.d(n,{I:function(){return h}});var r=t(1413),i=t(5987),o=t(5912),a=t(9770),l=t(6833),s=t(9511),u=t(3689),c=t(9523),d=t(2834),v=["htmlSize"],h=(0,a.G)((function(e,n){var t=e.htmlSize,a=(0,i.Z)(e,v),h=(0,l.jC)("Input",a),p=(0,s.Lr)(a),m=(0,o.Y)(p),f=(0,c.cx)("chakra-input",e.className);return(0,d.jsx)(u.m.input,(0,r.Z)((0,r.Z)({size:t},m),{},{__css:h.field,ref:n,className:f}))}));h.displayName="Input",h.id="Input"}}]);
//# sourceMappingURL=signUpPage.d1c8d8ec.chunk.js.map