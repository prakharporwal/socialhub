"use strict";(self.webpackChunkreact_view=self.webpackChunkreact_view||[]).push([[748],{1268:function(e,n,t){t.d(n,{Z:function(){return s}});var i={api_server_url:"http://localhost:8080"};console.log(i);var s=i},7817:function(e,n,t){t.d(n,{Z:function(){return l}});t(9867);var i=t(7254),s=t(7194),r=t(681),a=t(7973),o=t(8216),c=t(2834),l=function(e){return(0,c.jsx)(i.k,{className:"signin-background",h:"100vh",align:"center",justify:"center",backgroundColor:"whitesmoke",children:(0,c.jsxs)(s.K,{spacing:4,mx:"auto",minW:{md:"md"},maxW:"lg",py:12,px:6,children:[(0,c.jsx)(s.K,{align:"center",children:(0,c.jsx)(r.X,{fontSize:"3xl",children:e.headingText})}),(0,c.jsx)(a.xu,{rounded:"lg",bg:(0,o.ff)("white","gray.700"),boxShadow:"lg",p:8,children:(0,c.jsx)(s.K,{spacing:4,children:e.children})})]})})}},5680:function(e,n,t){t.d(n,{a:function(){return r}});var i=t(9439),s=t(9867);function r(){var e=(0,s.useMemo)((function(){return function(e){var n=e.length+1;return document.cookie.split(";").map((function(e){return e.trim()})).filter((function(t){return t.substring(0,n)==="".concat(e,"=")})).map((function(e){return decodeURIComponent(e.substring(n))}))[0]||null}("access_token")}),[]),n=(0,s.useState)(null!=e&&void 0!==e&&""!==e),t=(0,i.Z)(n,2),r=t[0];t[1];return{isAuthenticated:r,accessToken:e}}},1958:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var i=t(9439),s=t(9867),r=t(7200),a=t(9274),o=t(5721),c=t(1429),l=t(7194),u=t(5987),d=t(1413);var h=(0,t(631).k)({name:"CheckboxGroupContext",strict:!1}),m=(0,i.Z)(h,2),g=(m[0],m[1]),f=t(3689),p=t(2834),x=["isIndeterminate","isChecked"];function v(e){return(0,p.jsx)(f.m.svg,(0,d.Z)((0,d.Z)({width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16}},e),{},{children:(0,p.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})}))}function k(e){return(0,p.jsx)(f.m.svg,(0,d.Z)((0,d.Z)({width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4}},e),{},{children:(0,p.jsx)("line",{x1:"21",x2:"3",y1:"12",y2:"12"})}))}function b(e){var n=e.isIndeterminate,t=e.isChecked,i=(0,u.Z)(e,x),s=n?k:v;return t||n?(0,p.jsx)(f.m.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,p.jsx)(s,(0,d.Z)({},i))}):null}var Z=t(9868),j=t(9523),C=t(4923),_=t(9770),y=t(6833),w=t(9511),S=["spacing","className","children","iconColor","iconSize","icon","isChecked","isDisabled","onChange","inputProps"],I={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},N={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},P=(0,C.F4)({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),L=(0,C.F4)({from:{opacity:0},to:{opacity:1}}),A=(0,C.F4)({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),D=(0,_.G)((function(e,n){var t=g(),r=(0,d.Z)((0,d.Z)({},t),e),a=(0,y.jC)("Checkbox",r),o=(0,w.Lr)(e),c=o.spacing,l=void 0===c?"0.5rem":c,h=o.className,m=o.children,x=o.iconColor,v=o.iconSize,k=o.icon,C=void 0===k?(0,p.jsx)(b,{}):k,_=o.isChecked,D=o.isDisabled,E=void 0===D?null==t?void 0:t.isDisabled:D,T=o.onChange,F=o.inputProps,z=(0,u.Z)(o,S),K=_;(null==t?void 0:t.value)&&o.value&&(K=t.value.includes(o.value));var G=T;(null==t?void 0:t.onChange)&&o.value&&(G=(0,j.PP)(t.onChange,T));var O=(0,Z.O)((0,d.Z)((0,d.Z)({},z),{},{isDisabled:E,isChecked:K,onChange:G})),W=O.state,X=O.getInputProps,M=O.getCheckboxProps,R=O.getLabelProps,U=O.getRootProps,q=function(e){var n=(0,s.useState)(e),t=(0,i.Z)(n,2),r=t[0],a=t[1],o=(0,s.useState)(!1),c=(0,i.Z)(o,2),l=c[0],u=c[1];return e!==r&&(u(!0),a(e)),l}(W.isChecked),B=(0,s.useMemo)((function(){return(0,d.Z)({animation:q?W.isIndeterminate?"".concat(L," 20ms linear, ").concat(A," 200ms linear"):"".concat(P," 200ms linear"):void 0,fontSize:v,color:x},a.icon)}),[x,v,q,W.isIndeterminate,a.icon]),H=(0,s.cloneElement)(C,{__css:B,isIndeterminate:W.isIndeterminate,isChecked:W.isChecked});return(0,p.jsxs)(f.m.label,(0,d.Z)((0,d.Z)({__css:(0,d.Z)((0,d.Z)({},N),a.container),className:(0,j.cx)("chakra-checkbox",h)},U()),{},{children:[(0,p.jsx)("input",(0,d.Z)({className:"chakra-checkbox__input"},X(F,n))),(0,p.jsx)(f.m.span,(0,d.Z)((0,d.Z)({__css:(0,d.Z)((0,d.Z)({},I),a.control),className:"chakra-checkbox__control"},M()),{},{children:H})),m&&(0,p.jsx)(f.m.span,(0,d.Z)((0,d.Z)({className:"chakra-checkbox__label"},R()),{},{__css:(0,d.Z)({marginStart:l},a.label),children:m}))]}))}));D.displayName="Checkbox";var E=t(1221),T=t(2265),F=t(5644),z=t(4670),K=t(1268),G=t(7817),O=t(5680),W=function(e){var n=(0,s.useState)(""),t=(0,i.Z)(n,2),u=t[0],d=t[1],h=(0,s.useState)(""),m=(0,i.Z)(h,2),g=m[0],f=m[1],x=(0,s.useState)(!1),v=(0,i.Z)(x,2),k=v[0],b=v[1],Z=(0,s.useState)(!1),j=(0,i.Z)(Z,2),C=j[0],_=j[1],y=(0,r.p)(),w=(0,O.a)(),S=(0,z.s0)();return(0,s.useEffect)((function(){w.isAuthenticated&&S("/app/home")}),[w]),(0,p.jsx)(G.Z,{headingText:"Signin into Organisation",children:(0,p.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),_(!0),""===u||""===g)return y.isActive("login-error")||y({id:"login-error",title:"Invalid data cannot be empty",description:"Email and Password Field empty",status:"error",duration:3e3,isClosable:!0}),void _(!1);console.log(u,g,k),fetch(K.Z.api_server_url+"/api/v1/login",{method:"POST",body:JSON.stringify({user_id:u,password:g})}).then((function(e){if(e.ok)return e.json();throw new Error("Incorrect credentials")})).then((function(e){console.log(e),window.localStorage.setItem("authenticated","true"),window.localStorage.setItem("current_username",e.username),window.localStorage.setItem("organisation_group_id",e.organisation_group_id),document.cookie="access_token="+e.access_token+";Path=/;Max-Age=18000;",y({title:"Login successful",description:"Logged in as ".concat(e.username),status:"success",duration:3e3,isClosable:!0}),S("/app/home")})).catch((function(e){console.log(e),y.isActive("login-api-failed")||y({id:"login-api-failed",title:"Login Failed",description:e.message,status:"error",duration:3e3,isClosable:!0})})).finally((function(){_(!1)}))},children:[(0,p.jsxs)(a.NI,{id:"username",children:[(0,p.jsx)(o.l,{children:"Email address"}),(0,p.jsx)(c.I,{type:"email",value:u,onChange:function(e){d(e.currentTarget.value)}})]}),(0,p.jsxs)(a.NI,{id:"password",children:[(0,p.jsx)(o.l,{children:"Password"}),(0,p.jsx)(c.I,{type:"password",value:g,onChange:function(e){f(e.currentTarget.value)}})]}),(0,p.jsxs)(a.NI,{id:"submit-button",children:[(0,p.jsxs)(l.K,{spacing:6,children:[(0,p.jsxs)(l.K,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:[(0,p.jsx)(D,{checked:k,onChange:function(e){b(e.currentTarget.checked)},children:"Remember me"}),(0,p.jsx)(E.r,{as:F.rU,to:"/forgot-password",color:"blue.400",children:"Forgot password?"})]}),(0,p.jsx)(T.z,{bg:"blue.400",color:"white",_hover:{bg:"blue.500"},_focus:{bg:"blue.500"},type:"submit",isLoading:C,children:"Sign in"}),(0,p.jsx)("div",{className:"g-signin2","data-onsuccess":"onSignIn"})]}),(0,p.jsx)(E.r,{as:F.rU,to:"/signup",color:"blue.400",children:"Create Account"})]})]})})}},681:function(e,n,t){t.d(n,{X:function(){return h}});var i=t(1413),s=t(5987),r=t(9770),a=t(6833),o=t(9511),c=t(3689),l=t(9523),u=t(2834),d=["className"],h=(0,r.G)((function(e,n){var t=(0,a.mq)("Heading",e),r=(0,o.Lr)(e),h=(r.className,(0,s.Z)(r,d));return(0,u.jsx)(c.m.h2,(0,i.Z)((0,i.Z)({ref:n,className:(0,l.cx)("chakra-heading",e.className)},h),{},{__css:t}))}));h.displayName="Heading"},1221:function(e,n,t){t.d(n,{r:function(){return h}});var i=t(1413),s=t(5987),r=t(9770),a=t(6833),o=t(9511),c=t(3689),l=t(9523),u=t(2834),d=["className","isExternal"],h=(0,r.G)((function(e,n){var t=(0,a.mq)("Link",e),r=(0,o.Lr)(e),h=r.className,m=r.isExternal,g=(0,s.Z)(r,d);return(0,u.jsx)(c.m.a,(0,i.Z)((0,i.Z)({target:m?"_blank":void 0,rel:m?"noopener":void 0,ref:n,className:(0,l.cx)("chakra-link",h)},g),{},{__css:t}))}));h.displayName="Link"}}]);
//# sourceMappingURL=signinPage.1f2468ec.chunk.js.map