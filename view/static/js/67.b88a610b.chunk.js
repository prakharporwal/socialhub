"use strict";(self.webpackChunkreact_view=self.webpackChunkreact_view||[]).push([[67],{8304:function(e,t){var n={api_server_url:"https://api.prakhar.works"};t.Z=n},3448:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(9439),i=n(9867),s=n(7973),a=n(681),o=n(1413),c=n(4942),l=n(5987),u=n(213),d=n(631),f=n(547),h=n(9770),p=n(6833),m=n(9511),x=n(3689),_=n(2834),v=["children","styleType","stylePosition","spacing"],y=["as"],g=["as"],Z=(0,d.k)({name:"ListStylesContext",errorMessage:"useListStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<List />\" "}),j=(0,r.Z)(Z,2),k=j[0],b=j[1],S=(0,h.G)((function(e,t){var n=(0,p.jC)("List",e),r=(0,m.Lr)(e),i=r.children,s=r.styleType,a=void 0===s?"none":s,u=r.stylePosition,d=r.spacing,h=(0,l.Z)(r,v),y=(0,f.W)(i),g=d?(0,c.Z)({},"& > *:not(style) ~ *:not(style)",{mt:d}):{};return(0,_.jsx)(k,{value:n,children:(0,_.jsx)(x.m.ul,(0,o.Z)((0,o.Z)({ref:t,listStyleType:a,listStylePosition:u,role:"list",__css:(0,o.Z)((0,o.Z)({},n.container),g)},h),{},{children:y}))})}));S.displayName="List",(0,h.G)((function(e,t){e.as;var n=(0,l.Z)(e,y);return(0,_.jsx)(S,(0,o.Z)({ref:t,as:"ol",styleType:"decimal",marginStart:"1em"},n))})).displayName="OrderedList",(0,h.G)((function(e,t){e.as;var n=(0,l.Z)(e,g);return(0,_.jsx)(S,(0,o.Z)({ref:t,as:"ul",styleType:"initial",marginStart:"1em"},n))})).displayName="UnorderedList",(0,h.G)((function(e,t){var n=b();return(0,_.jsx)(x.m.li,(0,o.Z)((0,o.Z)({ref:t},e),{},{__css:n.item}))})).displayName="ListItem",(0,h.G)((function(e,t){var n=b();return(0,_.jsx)(u.J,(0,o.Z)((0,o.Z)({ref:t,role:"presentation"},e),{},{__css:n.icon}))})).displayName="ListIcon";var w=n(8381),N=n(6443),L=n(9537),T=n(3278),C=n(4550),E=n(5514),D=n(9523),G=["className","justify"],I=(0,h.G)((function(e,t){var n=e.className,r=e.justify,i=(0,l.Z)(e,G),s=(0,E.v)();return(0,_.jsx)(x.m.div,(0,o.Z)({ref:t,className:(0,D.cx)("chakra-card__footer",n),__css:(0,o.Z)({display:"flex",justifyContent:r},s.footer)},i))})),P=n(5680),A=n(8304),M=n(8216),U=n(6005),B=JSON.parse('[{"scheduled_post_id":"hello1","post_json_string":"{\\"commentary\\": \\"hello\\"}","post_type":"text","status":"PUBLISHED","created_by":"prakhar@gmail.com","created_at":"25th May 2023"},{"scheduled_post_id":"292341f2-bde1-4c39-9436-35be4a7e606e","account_id":1234,"author_urn":"urn:li:person:m55DJ0ZigA","post_id_on_linkedin":"lol","post_json_string":"{\\"author\\":\\"\\",\\"commentary\\":\\"hey Guzs\\",\\"distribution\\":{\\"feedDistribution\\":\\"MAIN_FEED\\",\\"targetEntities\\":[],\\"thirdPartyDistributionChannels\\":[]},\\"isReshareDisabledByAuthor\\":false,\\"lifecycleState\\":\\"PUBLISHED\\",\\"visibility\\":\\"PUBLIC\\"}","post_type":"text","scheduled_time":"2023-05-22T07:40:47.66038Z","status":"PUBLISHED","created_by":"prakharporwal99@gmail.com","created_at":"2023-05-22T07:30:47.660895Z","updated_at":"2023-05-22T07:41:33.060103Z"},{"scheduled_post_id":"hello2","post_json_string":"{}","post_type":"text","status":"PUBLISHED","created_by":"prakhar@gmail.com","created_at":"25th May 2023"}]'),H=n(3165),O=function(e){var t,n=e.post;return(0,i.useEffect)((function(){console.log(n)}),[]),(0,_.jsxs)(L.Z,{p:"4",my:"4",w:"100%",maxW:"md",children:[(0,_.jsx)(T.O,{children:(0,_.jsx)(a.X,{size:"sm"})}),(0,_.jsx)(C.e,{children:(0,_.jsx)(s.xu,{bg:(0,M.ff)("whitesmoke","grey"),p:"4",border:"1px solid grey",borderRadius:"4px",children:null===(t=JSON.parse(n.post_json_string))||void 0===t?void 0:t.commentary})}),(0,_.jsxs)(I,{display:"flex",flexDirection:"column",children:[(0,_.jsx)(w.x,{children:n.scheduled_post_id}),(0,_.jsx)(w.x,{children:n.created_by}),(0,_.jsx)(w.x,{children:n.status}),(0,_.jsx)(w.x,{children:new Date(n.created_at).toLocaleDateString()+"  "+new Date(n.created_at).toLocaleTimeString()})]})]})},z=(0,N.Z)((function(){var e=(0,P.a)(),t=(0,i.useState)(!1),n=(0,r.Z)(t,2),o=n[0],c=n[1],l=(0,i.useState)(B),u=(0,r.Z)(l,2),d=u[0],f=u[1];return(0,i.useEffect)((function(){c(!0),fetch(A.Z.api_server_url+"/app/linkedin/posts/fetchall",{method:"GET",headers:{"access-token":e.accessToken||""}}).then((function(e){if(e.ok)return e.json();throw new Error("failed fetching posts!")})).then((function(e){f(e)})).catch((function(e){console.log(e)})).finally((function(){c(!1)}))}),[]),(0,_.jsxs)(s.xu,{w:"100%",px:4,as:"div",children:[(0,_.jsx)(a.X,{color:"black",children:"Your Posts"}),(0,_.jsx)(U.Z,{}),o?(0,_.jsx)(H.Z,{}):(0,_.jsx)(S,{mt:8,children:d.length>0?d.map((function(e,t){return(0,_.jsx)(O,{post:e},e.scheduled_post_id)})):(0,_.jsx)(w.x,{textAlign:"center",children:"No Posts"})})]})}))},6005:function(e,t,n){var r=n(4165),i=n(5861),s=n(9439),a=n(2265),o=n(4825),c=n(8381),l=n(9867),u=n(1821),d=n(5680),f=n(8304),h=n(2834);t.Z=function(e){var t=(0,l.useState)(!1),n=(0,s.Z)(t,2),p=n[0],m=n[1],x=(0,l.useState)(""),_=(0,s.Z)(x,2),v=_[0],y=_[1],g=(0,d.a)(),Z=(0,l.useState)(!1),j=(0,s.Z)(Z,2),k=j[0],b=j[1];function S(){return(S=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch(f.Z.api_server_url+"/app/linkedin/oauth/access/initiate",{method:"get",headers:{"access-token":g.accessToken||""}}).then((function(e){if(e.ok)return e.json();throw new Error("")})).then((function(e){console.log("data",e),window.location.replace(e.redirect_uri)})).catch((function(e){console.log(e)})).finally((function(){m(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useEffect)((function(){fetch(f.Z.api_server_url+"/app/linkedin/account/info",{headers:{"access-token":g.accessToken||""}}).then((function(e){if(e.ok)return e.json();throw new Error("Failed to get linkedin account info!")})).then((function(e){var t,n,r;void 0!==(null===(t=e.account)||void 0===t?void 0:t.urn)&&""!==(null===(n=e.account)||void 0===n?void 0:n.urn)&&(y(null===(r=e.account)||void 0===r?void 0:r.urn),b(!0))})).catch((function(e){console.log(e)}))}),[]),(0,h.jsx)(a.z,{bg:k?"green.500":"blue.400",color:"white",_hover:{bg:k?"green.500":"blue.500"},colorScheme:"linkedin",w:"full",maxW:"md",leftIcon:(0,h.jsx)(u.n7M,{}),isLoading:p,loadingText:"Connecting",onClick:function(){return S.apply(this,arguments)},children:(0,h.jsx)(o.M,{children:(0,h.jsx)(c.x,{children:k?"Connected to "+v:"Connect Linkedin Account"})})})}},6443:function(e,t,n){var r=n(1413),i=(n(9867),n(4670)),s=n(5680),a=n(7973),o=n(2834);t.Z=function(e){return function(t){var n=(0,s.a)();return(0,o.jsx)(a.xu,{h:"calc(100vh - 4rem)",overflowY:"auto",children:n.isAuthenticated?(0,o.jsx)(e,(0,r.Z)({},t)):(0,o.jsx)(i.Fg,{to:"/signin",replace:!0})})}}},5680:function(e,t,n){n.d(t,{a:function(){return s}});var r=n(9439),i=n(9867);function s(){var e=(0,i.useMemo)((function(){return function(e){var t=e.length+1;return document.cookie.split(";").map((function(e){return e.trim()})).filter((function(n){return n.substring(0,t)==="".concat(e,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null}("access_token")}),[]),t=(0,i.useState)(null!=e&&void 0!==e&&""!==e),n=(0,r.Z)(t,2),s=n[0];n[1];return{isAuthenticated:s,accessToken:e}}},4825:function(e,t,n){n.d(t,{M:function(){return l}});var r=n(1413),i=n(5987),s=n(3689),a=n(9770),o=n(2834),c=["axis"],l=(0,s.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});l.displayName="Center";var u={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,a.G)((function(e,t){var n=e.axis,a=void 0===n?"both":n,l=(0,i.Z)(e,c);return(0,o.jsx)(s.m.div,(0,r.Z)((0,r.Z)({ref:t,__css:u[a]},l),{},{position:"absolute"}))}))},681:function(e,t,n){n.d(t,{X:function(){return f}});var r=n(1413),i=n(5987),s=n(9770),a=n(6833),o=n(9511),c=n(3689),l=n(9523),u=n(2834),d=["className"],f=(0,s.G)((function(e,t){var n=(0,a.mq)("Heading",e),s=(0,o.Lr)(e),f=(s.className,(0,i.Z)(s,d));return(0,u.jsx)(c.m.h2,(0,r.Z)((0,r.Z)({ref:t,className:(0,l.cx)("chakra-heading",e.className)},f),{},{__css:n}))}));f.displayName="Heading"},8381:function(e,t,n){n.d(t,{x:function(){return h}});var r=n(1413),i=n(5987),s=n(9770),a=n(6833),o=n(9511),c=n(3689),l=n(9523),u=n(4518),d=n(2834),f=["className","align","decoration","casing"],h=(0,s.G)((function(e,t){var n=(0,a.mq)("Text",e),s=(0,o.Lr)(e),h=(s.className,s.align,s.decoration,s.casing,(0,i.Z)(s,f)),p=(0,u.o)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,d.jsx)(c.m.p,(0,r.Z)((0,r.Z)((0,r.Z)({ref:t,className:(0,l.cx)("chakra-text",e.className)},p),h),{},{__css:n}))}));h.displayName="Text"},4518:function(e,t,n){function r(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}n.d(t,{o:function(){return r}})},547:function(e,t,n){n.d(t,{W:function(){return i}});var r=n(9867);function i(e){return r.Children.toArray(e).filter((function(e){return(0,r.isValidElement)(e)}))}}}]);
//# sourceMappingURL=67.b88a610b.chunk.js.map