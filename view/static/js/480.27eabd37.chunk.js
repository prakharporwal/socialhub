"use strict";(self.webpackChunkreact_view=self.webpackChunkreact_view||[]).push([[480],{6699:(e,t,s)=>{s.d(t,{Z:()=>n});const r={dev:{api_server_url:"http://localhost:8080",path_prefix:"/api"},lan:{api_server_url:"http://192.168.0.184:8080",path_prefix:"/api"},prod:{api_server_url:"https://api.sociohub.live",path_prefix:"/api"}},n=r.prod},6443:(e,t,s)=>{s.d(t,{Z:()=>i});s(9867);var r=s(4670),n=s(4438),a=s(7973),o=s(2834);const i=e=>function(t){const s=(0,n.a)();return(0,o.jsx)(a.xu,{h:"calc(100vh - 4rem)",overflowY:"auto",children:s.isAuthenticated?(0,o.jsx)(e,{...t}):(0,o.jsx)(r.Fg,{to:"/app/signin",replace:!0})})}},4438:(e,t,s)=>{s.d(t,{a:()=>a});var r=s(9867),n=s(2733);function a(){const e=(0,r.useMemo)((()=>(0,n.e)("access_token")),[]),[t,s]=(0,r.useState)(null!=e&&void 0!==e&&""!==e);return{isAuthenticated:t,accessToken:e}}},4480:(e,t,s)=>{s.r(t),s.d(t,{default:()=>B});var r=s(9867),n=s(7973),a=s(681),o=s(7254),i=s(8381),c=s(6443),l=s(295),d=s(4670),h=s(5644),u=s(3165),p=s(9770),f=s(3689),m=s(9523),x=s(2834),g=(0,p.G)(((e,t)=>{var s;const{overflow:r,overflowX:n,className:a,...o}=e;return(0,x.jsx)(f.m.div,{ref:t,className:(0,m.cx)("chakra-table__container",a),...o,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(s=null!=r?r:n)?s:"auto",overflowY:"hidden",maxWidth:"100%"}})})),j=s(6833),v=s(9511),y=s(631),[w,b]=(0,y.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),_=(0,p.G)(((e,t)=>{const s=(0,j.jC)("Table",e),{className:r,layout:n,...a}=(0,v.Lr)(e);return(0,x.jsx)(w,{value:s,children:(0,x.jsx)(f.m.table,{ref:t,__css:{tableLayout:n,...s.table},className:(0,m.cx)("chakra-table",r),...a})})}));_.displayName="Table";var k=(0,p.G)(((e,t)=>{const s=b();return(0,x.jsx)(f.m.thead,{...e,ref:t,__css:s.thead})})),N=(0,p.G)(((e,t)=>{const s=b();return(0,x.jsx)(f.m.tr,{...e,ref:t,__css:s.tr})})),S=(0,p.G)(((e,t)=>{let{isNumeric:s,...r}=e;const n=b();return(0,x.jsx)(f.m.th,{...r,ref:t,__css:n.th,"data-is-numeric":s})})),C=(0,p.G)(((e,t)=>{const s=b();return(0,x.jsx)(f.m.tbody,{...e,ref:t,__css:s.tbody})})),T=(0,p.G)(((e,t)=>{let{isNumeric:s,...r}=e;const n=b();return(0,x.jsx)(f.m.td,{...r,ref:t,__css:n.td,"data-is-numeric":s})})),G=(0,p.G)(((e,t)=>{const s=b();return(0,x.jsx)(f.m.tfoot,{...e,ref:t,__css:s.tfoot})})),H=s(2974),z=s(4997),P=s(3967);const E=7;function R(e){const{pageCount:t}=e,[s,n]=(0,r.useState)(1),a=function(e){let{minNum:t,maxNum:s,arrayLength:r,currentPage:n}=e;const a=r-2,o=[];let i=!1,c=!1;n>=t+a&&(o.push(t),o.push(void 0),i=!0),n<=s-a&&(c=!0);const l=r-(i?2:0)-(c?2:0);if(i&&c){const e=n-Math.floor(l/2),t=n+l-Math.floor(l/2);for(let s=e;s<t;s++)o.push(s)}else if(i)for(let d=l-1;d>=0;d--)o.push(s-d);else if(c)for(let d=0;d<l;d++)o.push(t+d);return c&&(o.push(void 0),o.push(s)),o}({minNum:1,maxNum:t,arrayLength:E,currentPage:s}),c=e=>{e<1||e>t?console.error("Invalid page number"):(n(e),console.log("Page changed to:",e))};return(0,x.jsx)(o.k,{w:"30vw",children:(0,x.jsxs)(H.h,{w:"full",children:[(0,x.jsx)(z.h,{variant:"ghost",icon:(0,x.jsx)(P.bUI,{}),"aria-label":"previous page",onClick:()=>c(s-1)}),a.map(((e,t)=>e?(0,x.jsx)(l.z,{variant:e===s?"solid":"ghost","aria-label":"page number "+e,onClick:()=>c(Number(e)),children:e},t):(0,x.jsx)(i.x,{children:"..."},t))),(0,x.jsx)(z.h,{variant:"ghost",icon:(0,x.jsx)(P.Dli,{}),"aria-label":"next page",onClick:()=>c(s+1)})]})})}function L(e){const{posts:t}=e,s=(0,d.s0)(),[n,a]=(0,r.useState)(1);return(0,x.jsx)(g,{overflowX:"hidden",bgColor:"white",borderRadius:"lg",children:(0,x.jsxs)(_,{size:"md",variant:"striped",children:[(0,x.jsx)(k,{children:(0,x.jsxs)(N,{children:[(0,x.jsx)(S,{children:"Id"}),(0,x.jsx)(S,{children:"Type"}),(0,x.jsx)(S,{children:"Post"}),(0,x.jsx)(S,{children:"Status"}),(0,x.jsx)(S,{children:"Created By"})]})}),(0,x.jsx)(C,{fontSize:"sm",minH:"40vh",children:t.map(((e,t)=>(0,x.jsxs)(N,{onClick:()=>{s("/app/post/"+e.post_id)},children:[(0,x.jsx)(T,{maxWidth:"40",wordBreak:"break-word",whiteSpace:"pre-wrap",overflowX:"hidden",children:e.post_id}),(0,x.jsx)(T,{children:e.post_type}),(0,x.jsx)(T,{maxWidth:"64",wordBreak:"break-word",whiteSpace:"pre-wrap",overflowX:"hidden",children:(0,x.jsxs)(i.x,{noOfLines:3,children:[e.post_text," "]})}),(0,x.jsx)(T,{children:e.creation_status}),(0,x.jsx)(T,{children:e.user_email})]},e.post_id)))}),(0,x.jsxs)(G,{fontSize:"xs",fontWeight:"bold",backgroundColor:"InfoBackground",marginLeft:"auto",children:[(0,x.jsx)(N,{h:4}),(0,x.jsx)(N,{children:(0,x.jsx)(T,{colSpan:5,children:(0,x.jsx)(R,{pageCount:10})})})]})]})})}var O=s(9333);const B=(0,c.Z)((()=>{const[e,t]=(0,r.useState)(!1),[s,c]=(0,r.useState)([]),{search:p}=(0,d.TH)(),f=new URLSearchParams(p),m=f.get("page")?"?page="+f.get("page"):"";return(0,r.useEffect)((()=>{t(!0),O.Z.get("/p/v1/posts"+m).then((e=>{const t=e.response;c(t)})).catch((e=>{console.log(e)})).finally((()=>{t(!1)}))}),[]),(0,x.jsxs)(n.xu,{w:"100%",px:4,as:"div",children:[(0,x.jsx)(a.X,{fontSize:"2xl",as:"h1",color:"black",mb:4,children:"Your Posts"}),e?(0,x.jsx)(u.Z,{}):0===s.length?(0,x.jsxs)(o.k,{justifyContent:"center",direction:"column",alignItems:"center",h:"80vh",w:"80vw",gap:8,children:[(0,x.jsx)(i.x,{fontSize:"lg",children:"No posts"}),(0,x.jsx)(l.z,{variant:"solid",colorScheme:"blue",as:h.rU,to:"/app/post/new",children:"+ Create New Post"})]}):(0,x.jsx)(L,{posts:s})]})}))},9333:(e,t,s)=>{s.d(t,{Z:()=>o});var r=s(6699),n=s(2733);const a=new class{constructor(){var e;this.apiHostname=void 0,this.apiHostname=r.Z.api_server_url.concat(null!==(e=r.Z.path_prefix)&&void 0!==e?e:"")}getCommonHeaders(){return{"content-type":"application/json","access-token":(0,n.e)("access_token")||"no token found!"}}async get(e,t){return new Promise(((s,r)=>{fetch(this.apiHostname.concat(e),{headers:{...this.getCommonHeaders(),...t&&t.headers},method:"GET"}).then((async e=>{if(e.ok||201===e.status)return e.json();let t=await e.json();throw new Error(JSON.stringify(t))})).then((e=>{s(e)})).catch((e=>{r(e)}))}))}async post(e,t,s){return new Promise(((r,n)=>{fetch(this.apiHostname.concat(e),{headers:{...this.getCommonHeaders(),...s&&s.headers},method:"POST",body:t&&JSON.stringify(t)}).then((async e=>{if(e.ok||201===e.status)return e.json();let t=await e.json();throw new Error(JSON.stringify(t))})).then((e=>{r(e)})).catch((e=>{n(e)}))}))}async put(e,t,s){return new Promise(((r,n)=>{fetch(this.apiHostname.concat(e),{headers:{...this.getCommonHeaders(),...s&&s.headers},method:"PUT",body:t&&JSON.stringify(t)}).then((async e=>{if(e.ok||201===e.status)return e.json();let t={};throw await e.json().then((e=>{t=e})),new Error(JSON.stringify(t))})).then((e=>{r(e)})).catch((e=>{n(e)}))}))}async delete(e,t){return new Promise(((s,r)=>{fetch(this.apiHostname.concat(e),{headers:{...this.getCommonHeaders(),...t&&t.headers},method:"DELETE"}).then((async e=>{if(e.ok||201===e.status)return e.json();let t={};throw await e.json().then((e=>{t=e})),new Error(JSON.stringify(t))})).then((e=>{s(e)})).catch((e=>{r(e)}))}))}};console.log("ApiCaller",a);const o=a},2733:(e,t,s)=>{function r(e){const t=e.length+1;return document.cookie.split(";").map((e=>e.trim())).filter((s=>s.substring(0,t)===`${e}=`)).map((e=>decodeURIComponent(e.substring(t))))[0]||null}s.d(t,{e:()=>r})},4997:(e,t,s)=>{s.d(t,{h:()=>i});var r=s(295),n=s(9770),a=s(9867),o=s(2834),i=(0,n.G)(((e,t)=>{const{icon:s,children:n,isRound:i,"aria-label":c,...l}=e,d=s||n,h=(0,a.isValidElement)(d)?(0,a.cloneElement)(d,{"aria-hidden":!0,focusable:!1}):null;return(0,o.jsx)(r.z,{padding:"0",borderRadius:i?"full":void 0,ref:t,"aria-label":c,...l,children:h})}));i.displayName="IconButton"},2974:(e,t,s)=>{s.d(t,{h:()=>h});var r=s(7630),n=s(9770),a=s(3689),o=s(9523),i=s(9867),c=s(2834),l={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},d={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},h=(0,n.G)((function(e,t){const{size:s,colorScheme:n,variant:h,className:u,spacing:p="0.5rem",isAttached:f,isDisabled:m,orientation:x="horizontal",...g}=e,j=(0,o.cx)("chakra-button__group",u),v=(0,i.useMemo)((()=>({size:s,colorScheme:n,variant:h,isDisabled:m})),[s,n,h,m]);let y={display:"inline-flex",...f?l[x]:d[x](p)};const w="vertical"===x;return(0,c.jsx)(r.D,{value:v,children:(0,c.jsx)(a.m.div,{ref:t,role:"group",__css:y,className:j,"data-attached":f?"":void 0,"data-orientation":x,flexDir:w?"column":void 0,...g})})}));h.displayName="ButtonGroup"},681:(e,t,s)=>{s.d(t,{X:()=>l});var r=s(9770),n=s(6833),a=s(9511),o=s(3689),i=s(9523),c=s(2834),l=(0,r.G)((function(e,t){const s=(0,n.mq)("Heading",e),{className:r,...l}=(0,a.Lr)(e);return(0,c.jsx)(o.m.h2,{ref:t,className:(0,i.cx)("chakra-heading",e.className),...l,__css:s})}));l.displayName="Heading"},7254:(e,t,s)=>{s.d(t,{k:()=>o});var r=s(9770),n=s(3689),a=s(2834),o=(0,r.G)((function(e,t){const{direction:s,align:r,justify:o,wrap:i,basis:c,grow:l,shrink:d,...h}=e,u={display:"flex",flexDirection:s,alignItems:r,justifyContent:o,flexWrap:i,flexBasis:c,flexGrow:l,flexShrink:d};return(0,a.jsx)(n.m.div,{ref:t,__css:u,...h})}));o.displayName="Flex"},8381:(e,t,s)=>{s.d(t,{x:()=>d});var r=s(9770),n=s(6833),a=s(9511),o=s(3689),i=s(9523),c=s(4518),l=s(2834),d=(0,r.G)((function(e,t){const s=(0,n.mq)("Text",e),{className:r,align:d,decoration:h,casing:u,...p}=(0,a.Lr)(e),f=(0,c.o)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,l.jsx)(o.m.p,{ref:t,className:(0,i.cx)("chakra-text",e.className),...f,...p,__css:s})}));d.displayName="Text"},4518:(e,t,s)=>{function r(e){const t=Object.assign({},e);for(let s in t)void 0===t[s]&&delete t[s];return t}s.d(t,{o:()=>r})}}]);
//# sourceMappingURL=480.27eabd37.chunk.js.map