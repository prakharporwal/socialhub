"use strict";(self.webpackChunkreact_view=self.webpackChunkreact_view||[]).push([[480],{6699:(e,t,s)=>{s.d(t,{Z:()=>a});const r={dev:{api_server_url:"http://localhost:8080",path_prefix:"/api"},lan:{api_server_url:"http://192.168.0.184:8080",path_prefix:"/api"},prod:{api_server_url:"https://api.sociohub.live",path_prefix:"/api"}},a=r.prod},6443:(e,t,s)=>{s.d(t,{Z:()=>i});s(9867);var r=s(4670),a=s(4438),n=s(7973),o=s(2834);const i=e=>function(t){const s=(0,a.a)();return(0,o.jsx)(n.xu,{h:"calc(100vh - 4rem)",overflowY:"auto",children:s.isAuthenticated?(0,o.jsx)(e,{...t}):(0,o.jsx)(r.Fg,{to:"/signin",replace:!0})})}},4438:(e,t,s)=>{s.d(t,{a:()=>n});var r=s(9867),a=s(2733);function n(){const e=(0,r.useMemo)((()=>(0,a.e)("access_token")),[]),[t,s]=(0,r.useState)(null!=e&&void 0!==e&&""!==e);return{isAuthenticated:t,accessToken:e}}},4480:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var r=s(9867),a=s(7973),n=s(7254),o=s(681),i=s(8381),l=s(6443),c=s(295),d=s(4670),h=s(5644),u=s(3165),p=s(9770),f=s(3689),m=s(9523),x=s(2834),g=(0,p.G)(((e,t)=>{var s;const{overflow:r,overflowX:a,className:n,...o}=e;return(0,x.jsx)(f.m.div,{ref:t,className:(0,m.cx)("chakra-table__container",n),...o,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(s=null!=r?r:a)?s:"auto",overflowY:"hidden",maxWidth:"100%"}})})),j=s(6833),v=s(9511),y=s(631),[b,w]=(0,y.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),_=(0,p.G)(((e,t)=>{const s=(0,j.jC)("Table",e),{className:r,layout:a,...n}=(0,v.Lr)(e);return(0,x.jsx)(b,{value:s,children:(0,x.jsx)(f.m.table,{ref:t,__css:{tableLayout:a,...s.table},className:(0,m.cx)("chakra-table",r),...n})})}));_.displayName="Table";var k=(0,p.G)(((e,t)=>{const s=w();return(0,x.jsx)(f.m.thead,{...e,ref:t,__css:s.thead})})),S=(0,p.G)(((e,t)=>{const s=w();return(0,x.jsx)(f.m.tr,{...e,ref:t,__css:s.tr})})),N=(0,p.G)(((e,t)=>{let{isNumeric:s,...r}=e;const a=w();return(0,x.jsx)(f.m.th,{...r,ref:t,__css:a.th,"data-is-numeric":s})})),C=(0,p.G)(((e,t)=>{const s=w();return(0,x.jsx)(f.m.tbody,{...e,ref:t,__css:s.tbody})})),T=(0,p.G)(((e,t)=>{let{isNumeric:s,...r}=e;const a=w();return(0,x.jsx)(f.m.td,{...r,ref:t,__css:a.td,"data-is-numeric":s})})),G=(0,p.G)(((e,t)=>{const s=w();return(0,x.jsx)(f.m.tfoot,{...e,ref:t,__css:s.tfoot})})),H=s(2974),z=s(4997),P=s(3967);const R=7;function E(e){const{pageCount:t}=e,[s,a]=(0,r.useState)(1),o=function(e){let{minNum:t,maxNum:s,arrayLength:r,currentPage:a}=e;const n=r-2,o=[];let i=!1,l=!1;a>=t+n&&(o.push(t),o.push(void 0),i=!0),a<=s-n&&(l=!0);const c=r-(i?2:0)-(l?2:0);if(i&&l){const e=a-Math.floor(c/2),t=a+c-Math.floor(c/2);for(let s=e;s<t;s++)o.push(s)}else if(i)for(let d=c-1;d>=0;d--)o.push(s-d);else if(l)for(let d=0;d<c;d++)o.push(t+d);return l&&(o.push(void 0),o.push(s)),o}({minNum:1,maxNum:t,arrayLength:R,currentPage:s}),l=e=>{e<1||e>t?console.error("Invalid page number"):(a(e),console.log("Page changed to:",e))};return(0,x.jsx)(n.k,{w:"30vw",children:(0,x.jsxs)(H.h,{w:"full",children:[(0,x.jsx)(z.h,{variant:"ghost",icon:(0,x.jsx)(P.bUI,{}),"aria-label":"previous page",onClick:()=>l(s-1)}),o.map(((e,t)=>e?(0,x.jsx)(c.z,{variant:e===s?"solid":"ghost","aria-label":"page number "+e,onClick:()=>l(Number(e)),children:e},t):(0,x.jsx)(i.x,{children:"..."},t))),(0,x.jsx)(z.h,{variant:"ghost",icon:(0,x.jsx)(P.Dli,{}),"aria-label":"next page",onClick:()=>l(s+1)})]})})}function D(e){const{posts:t}=e,s=(0,d.s0)(),[a,n]=(0,r.useState)(1);return(0,x.jsx)(g,{overflowX:"hidden",bgColor:"white",borderRadius:"lg",children:(0,x.jsxs)(_,{size:"md",variant:"striped",children:[(0,x.jsx)(k,{children:(0,x.jsxs)(S,{children:[(0,x.jsx)(N,{children:"Id"}),(0,x.jsx)(N,{children:"Type"}),(0,x.jsx)(N,{children:"Post"}),(0,x.jsx)(N,{children:"Status"}),(0,x.jsx)(N,{children:"Created By"})]})}),(0,x.jsx)(C,{fontSize:"sm",minH:"40vh",children:t.filter((t=>void 0===e.filter||("All"===e.filter||!t.creation_status.localeCompare(e.filter.toUpperCase())))).map((e=>(0,x.jsxs)(S,{onDoubleClick:()=>{s("/app/post/"+e.post_id)},children:[(0,x.jsx)(T,{maxWidth:"40",wordBreak:"break-word",whiteSpace:"pre-wrap",overflowX:"hidden",children:e.post_id}),(0,x.jsx)(T,{children:e.post_type}),(0,x.jsx)(T,{maxWidth:"64",wordBreak:"break-word",whiteSpace:"pre-wrap",overflowX:"hidden",children:(0,x.jsxs)(i.x,{noOfLines:3,children:[e.post_text," "]})}),(0,x.jsx)(T,{children:e.creation_status}),(0,x.jsx)(T,{children:e.user_email})]},e.post_id)))}),(0,x.jsxs)(G,{fontSize:"xs",fontWeight:"bold",backgroundColor:"InfoBackground",marginLeft:"auto",children:[(0,x.jsx)(S,{h:4}),(0,x.jsx)(S,{children:(0,x.jsx)(T,{colSpan:5,children:(0,x.jsx)(E,{pageCount:10})})})]})]})})}var L=s(9333);const O=(0,l.Z)((()=>{const[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)([]),{search:p}=(0,d.TH)(),f=new URLSearchParams(p),m=f.get("page")?"?page="+f.get("page"):"",[g,j]=(0,r.useState)("All");return(0,r.useEffect)((()=>{t(!0),L.Z.get("/p/v1/posts"+m).then((e=>{const t=e.response;l(t)})).catch((e=>{console.log(e)})).finally((()=>{t(!1)}))}),[]),(0,x.jsxs)(a.xu,{w:"100%",px:4,as:"div",children:[(0,x.jsxs)(n.k,{gap:4,children:[(0,x.jsx)(o.X,{fontSize:"2xl",as:"h1",color:"black",mb:4,children:"Your Posts"}),(0,x.jsx)(n.k,{gap:4,mb:4,justifyContent:"flex-start",children:["All","Draft","Ready","Scheduled"].map(((e,t)=>(0,x.jsx)(c.z,{variant:"ghost",colorScheme:g===e?"blue":"gray",borderWidth:2,borderColor:g===e?"blue.400":"gray",borderRadius:"16px",px:4,py:1,onClick:()=>{j(e)},children:(0,x.jsx)(i.x,{fontWeight:"semibold",children:e})},t)))})]}),e?(0,x.jsx)(u.Z,{}):0===s.length?(0,x.jsxs)(n.k,{justifyContent:"center",direction:"column",alignItems:"center",h:"80vh",w:"80vw",gap:8,children:[(0,x.jsx)(i.x,{fontSize:"lg",children:"No posts"}),(0,x.jsx)(c.z,{variant:"solid",colorScheme:"blue",as:h.rU,to:"/app/post/new",children:"+ Create New Post"})]}):(0,x.jsx)(D,{posts:s,filter:g})]})}))},9333:(e,t,s)=>{s.d(t,{Z:()=>o});var r=s(6699),a=s(2733);const n=new class{constructor(){var e;this.apiHostname=void 0,this.apiHostname=r.Z.api_server_url.concat(null!==(e=r.Z.path_prefix)&&void 0!==e?e:"")}getCommonHeaders(){return{"content-type":"application/json","access-token":(0,a.e)("access_token")||"no token found!"}}async get(e,t){return new Promise(((s,r)=>{fetch(this.apiHostname.concat(e),{headers:{...this.getCommonHeaders(),...t&&t.headers},method:"GET"}).then((async e=>{if(e.ok||201===e.status)return e.json();let t=await e.json();throw new Error(JSON.stringify(t))})).then((e=>{s(e)})).catch((e=>{r(e)}))}))}async post(e,t,s){return new Promise(((r,a)=>{fetch(this.apiHostname.concat(e),{headers:{...this.getCommonHeaders(),...s&&s.headers},method:"POST",body:t&&JSON.stringify(t)}).then((async e=>{if(e.ok||201===e.status)return e.json();let t=await e.json();throw new Error(JSON.stringify(t))})).then((e=>{r(e)})).catch((e=>{a(e)}))}))}async put(e,t,s){return new Promise(((r,a)=>{fetch(this.apiHostname.concat(e),{headers:{...this.getCommonHeaders(),...s&&s.headers},method:"PUT",body:t&&JSON.stringify(t)}).then((async e=>{if(e.ok||201===e.status)return e.json();let t={};throw await e.json().then((e=>{t=e})),new Error(JSON.stringify(t))})).then((e=>{r(e)})).catch((e=>{a(e)}))}))}async delete(e,t){return new Promise(((s,r)=>{fetch(this.apiHostname.concat(e),{headers:{...this.getCommonHeaders(),...t&&t.headers},method:"DELETE"}).then((async e=>{if(e.ok||201===e.status)return e.json();let t={};throw await e.json().then((e=>{t=e})),new Error(JSON.stringify(t))})).then((e=>{s(e)})).catch((e=>{r(e)}))}))}};console.log("ApiCaller",n);const o=n},2733:(e,t,s)=>{function r(e){const t=e.length+1;return document.cookie.split(";").map((e=>e.trim())).filter((s=>s.substring(0,t)===`${e}=`)).map((e=>decodeURIComponent(e.substring(t))))[0]||null}s.d(t,{e:()=>r})},4997:(e,t,s)=>{s.d(t,{h:()=>i});var r=s(295),a=s(9770),n=s(9867),o=s(2834),i=(0,a.G)(((e,t)=>{const{icon:s,children:a,isRound:i,"aria-label":l,...c}=e,d=s||a,h=(0,n.isValidElement)(d)?(0,n.cloneElement)(d,{"aria-hidden":!0,focusable:!1}):null;return(0,o.jsx)(r.z,{padding:"0",borderRadius:i?"full":void 0,ref:t,"aria-label":l,...c,children:h})}));i.displayName="IconButton"},2974:(e,t,s)=>{s.d(t,{h:()=>h});var r=s(7630),a=s(9770),n=s(3689),o=s(9523),i=s(9867),l=s(2834),c={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},d={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},h=(0,a.G)((function(e,t){const{size:s,colorScheme:a,variant:h,className:u,spacing:p="0.5rem",isAttached:f,isDisabled:m,orientation:x="horizontal",...g}=e,j=(0,o.cx)("chakra-button__group",u),v=(0,i.useMemo)((()=>({size:s,colorScheme:a,variant:h,isDisabled:m})),[s,a,h,m]);let y={display:"inline-flex",...f?c[x]:d[x](p)};const b="vertical"===x;return(0,l.jsx)(r.D,{value:v,children:(0,l.jsx)(n.m.div,{ref:t,role:"group",__css:y,className:j,"data-attached":f?"":void 0,"data-orientation":x,flexDir:b?"column":void 0,...g})})}));h.displayName="ButtonGroup"},681:(e,t,s)=>{s.d(t,{X:()=>c});var r=s(9770),a=s(6833),n=s(9511),o=s(3689),i=s(9523),l=s(2834),c=(0,r.G)((function(e,t){const s=(0,a.mq)("Heading",e),{className:r,...c}=(0,n.Lr)(e);return(0,l.jsx)(o.m.h2,{ref:t,className:(0,i.cx)("chakra-heading",e.className),...c,__css:s})}));c.displayName="Heading"},7254:(e,t,s)=>{s.d(t,{k:()=>o});var r=s(9770),a=s(3689),n=s(2834),o=(0,r.G)((function(e,t){const{direction:s,align:r,justify:o,wrap:i,basis:l,grow:c,shrink:d,...h}=e,u={display:"flex",flexDirection:s,alignItems:r,justifyContent:o,flexWrap:i,flexBasis:l,flexGrow:c,flexShrink:d};return(0,n.jsx)(a.m.div,{ref:t,__css:u,...h})}));o.displayName="Flex"},8381:(e,t,s)=>{s.d(t,{x:()=>d});var r=s(9770),a=s(6833),n=s(9511),o=s(3689),i=s(9523),l=s(4518),c=s(2834),d=(0,r.G)((function(e,t){const s=(0,a.mq)("Text",e),{className:r,align:d,decoration:h,casing:u,...p}=(0,n.Lr)(e),f=(0,l.o)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,c.jsx)(o.m.p,{ref:t,className:(0,i.cx)("chakra-text",e.className),...f,...p,__css:s})}));d.displayName="Text"},4518:(e,t,s)=>{function r(e){const t=Object.assign({},e);for(let s in t)void 0===t[s]&&delete t[s];return t}s.d(t,{o:()=>r})}}]);
//# sourceMappingURL=480.67a980eb.chunk.js.map